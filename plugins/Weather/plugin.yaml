id: weather
name: Weather Plugin
description: Current weather and forecast for a location. Use when the user asks about weather, temperature, or forecast.
description_long: Provides current weather, humidity, conditions, wind, AQI. Supports city and district. Use for questions like what's the weather, will it rain, do I need an umbrella.
type: inline
config:
  config_file: config.yml
capabilities:
  - id: fetch_weather
    name: Get current weather
    description: Returns current weather for a city (and optional district). Includes temperature, humidity, conditions, wind, AQI.
    parameters:
      - name: city
        type: string
        required: true
        config_key: city
        description: City name, e.g. Beijing. Filled from config when not in user message.
      - name: district
        type: string
        required: false
        config_key: district
        description: District within the city, e.g. Daxing. Filled from config when not in user message.
    output_description: '{"text": "plain text weather summary", "temperature": number, "humidity": number, "conditions": string, "wind_direction": string, "wind_power": string, "aqi": number}'
    post_process: true
    post_process_prompt: Reorganize the weather information for the user and suggest practical tips (e.g. umbrella, washing car, clothing).
